{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "description": "Fibaro Home Center Weather JSON Schema",
    "name": "weather",
    "type": "object",
    "properties" : {
        "id" : { 
            "description" : "Fibaro Home Center device ID",
            "type": "integer",
            "minimum": 2 
        },
        "name" : {
            "description": "Device name", 
            "type": "string",
            "maxLength": 20
        },
        "roomID": {
            "description" : "Room ID defined in Home Center GUI",
            "type" : "integer",
            "minimum" : 0,
            "maximum" : 0
        },
        "type": {
            "description" : "Zwave device type",
            "enum": [ 
                "weather"
            ]
        },
        "properties": {
            "type": "object",
            "properties": {
                "ConditionCode": { 
                    "type": "string"
                },
                "Humidity": { 
                    "type": "string"
                },
                "PreviousConditionCode": { 
                    "type": "string"
                },
                "PreviousHumidity": { 
                    "type": "string"
                },
                "PreviousTemperature": { 
                    "type": "string"
                },
                "PreviousWeatherConditionConverted": { 
                    "type": "string"
                },
                "PreviousWind": { 
                    "type": "string"
                },
                "Temperature": { 
                    "type": "string"
                },
                "WeatherCondition": { 
                    "type": "string"
                },
                "WeatherConditionConverted": { 
                    "type": "string"
                },
                "Wind": { 
                    "type": "string"
                },
                "saveLogs": { 
                    "enum" : ["0", "1"]
                },
                "parameters" : {
                    "type" : "array",
                    "minItems" : 0,
                    "items" : { "type" : "object",
                        "properties" : {
                            "id" : { "type" : "number" },
                            "size" : { "type" : "number"},
                            "value" : { "type" : "number"},
                            "lastSetValue" : { "type" : "number"}
                        }
                    },
                    "uniqueItems" : false
                },
                "associationView" : {
                    "type" : "array",
                    "minItems" : 0,
                    "maxItems" : 3,
                    "items" : { "$ref": "#/definitions/associationItem" }
            
                },
                "associationSet" : {
                    "type" : "array",
                    "minItems" : 0,
                    "maxItems" : 3,
                    "items" : { "$ref": "#/definitions/associationItem" }
            
                }
            },
            "required": [
                "ConditionCode",
                "Humidity",
                "PreviousConditionCode",
                "PreviousHumidity",
                "PreviousTemperature",
                "PreviousWeatherConditionConverted",
                "PreviousWind",
                "Temperature",
                "WeatherCondition",
                "WeatherConditionConverted",
                "Wind",
                "saveLogs"  
            ],
            "additionalProperties": false
        },
        "actions": {
            "type": "object"
        },
        "created": {
            "type" : "number"
        },
        "modified": {
            "type" : "number"
        },
        "sortOrder": {
            "type" : "number"
        }
    },
    "definitions" : {
        "associationItem" : {
            "properties" : {
                "groupID" : { "type" : "number" },
                "devices" : {
                    "type" : "array",
                    "minItems" : 1,
                    "maxItems" : 254,
                    "items" : {
                        "type" : "number",
                        "minimum" : 1,
                        "maximum" : 254
                    }
                }
            }
        }
    },
    "additionalProperties": false
}